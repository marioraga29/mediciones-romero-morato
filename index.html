<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mediciones - Romero Morato</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="192x192" href="logo192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="logo512.png">
    
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2c3e50">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="manifest" href="manifest.json">

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="app-container">
        <header class="empresa-header">
            <div class="logo-section">
                <h2>ROMERO MORATO</h2>
                <p class="sub-logo">REVESTIMIENTOS Y SOLUCIONES ROMERO, S.L.U.</p>
            </div>
            <div class="contacto-section">
                <img src="logo.png" alt="Logo" style="height: 100px; width: auto; margin-bottom: 5px; display: block; margin-left: auto;">
                <p>C/ CHAPARRAL N¬∫ 2</p>
                <p>PUERTO SERRANO (C√ÅDIZ) C.P.: 11659</p>
                <p>C.I.F.: B-72378631 | TEL.: 656 978 003</p>
            </div>
        </header>

        <section class="form-section">
            <form id="formMediciones">
                <div class="info-grid">
                    <div class="input-group">
                        <label>OBRA:</label>
                        <input type="text" id="obra" placeholder="Nombre de la obra">
                    </div>
                    <div class="input-group">
                        <label>TRABAJADOR:</label>
                        <input type="text" id="trabajador" placeholder="Nombre del operario">
                    </div>
                    <div class="input-group">
                        <label>FECHA:</label>
                        <input type="date" id="fecha">
                    </div>
                </div>

                <div class="table-responsive">
                    <table id="tablaMediciones">
                        <thead>
                            <tr>
                                <th>PARTIDA / CONCEPTO</th>
                                <th style="width: 80px;">ANCHO</th>
                                <th style="width: 20px;"></th>
                                <th style="width: 80px;">ALTO</th>
                                <th style="width: 90px;">TOTAL M¬≤</th>
                                <th style="width: 40px;"></th>
                            </tr>
                        </thead>
                        <tbody id="filas-medicion">
                        </tbody>
                    </table>
                </div>

                <div class="button-container">
                    <button type="button" class="btn-add-simple" onclick="agregarFila()">+ A√±adir Partida</button>
                </div>

                <div class="actions">
                    <button type="button" class="btn-pdf" onclick="generarPDF()">
                        üíæ GENERAR INFORME PDF
                    </button>
                </div>
            </form>
        </section>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="script.js"></script>

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(reg => console.log('Service Worker registrado con √©xito', reg))
            .catch(err => console.log('Error al registrar el Service Worker', err));
        });
      }
    </script>

</body>
</html>